"use strict";var robiquetteApp=angular.module("robiquetteApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase","leaflet-directive","geolocation"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/map",{templateUrl:"views/map.html",controller:"MapCtrl"}).when("/menu",{templateUrl:"views/menu.html",controller:"MenuCtrl"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$firebaseObject",function(a,b){var c=b(new Firebase("https://robiquette.firebaseio.com"));c.robiquettes=[{lat:48.86,lng:2.35,message:"Robiquette 1",icon:{iconUrl:"images/robiquette_pin.png",iconSize:[30,30],popupAnchor:[0,-15]}},{lat:48.84,lng:2.36,message:"Robiquette 2",icon:{iconUrl:"images/robiquette_pin.png",iconSize:[30,30],popupAnchor:[0,-15]}}],c.$save()}]);robiquetteApp.controller("MainCtrl",["$scope",function(a){}]),robiquetteApp.controller("NavbarCtrl",["$scope","$location",function(a,b){a.menus=[{text:"La robiquette",path:"/"},{text:"Map",path:"/map"},{text:"Menu",path:"/menu"}],a.getClass=function(a){return b.path()==a.path?"active":""}}]),robiquetteApp.controller("MenuCtrl",["$scope",function(a){}]),robiquetteApp.controller("MapCtrl",["$scope","geolocation","$firebaseArray",function(a,b,c){var d=new Firebase("https://robiquette.firebaseio.com/robiquettes");a.map={center:{lat:48.8597625,lng:2.3435408,zoom:12},tiles:{url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",options:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"robiquette.c8a85d9f"}},markers:c(d)},b.getLocation().then(function(b){a.map.markers.push({lat:b.coords.latitude,lng:b.coords.longitude,focus:!0,draggable:!1,message:"ME"})})}]);